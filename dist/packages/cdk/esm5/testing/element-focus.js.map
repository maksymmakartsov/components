{"version":3,"file":"element-focus.js","sourceRoot":"","sources":["../../../../../src/cdk/testing/element-focus.ts"],"names":[],"mappings":";;;;;;;;;;;AAQA,OAAO,EAAC,iBAAiB,EAAC,MAAM,mBAAmB,CAAC;;;;;;AAEpD,SAAS,kBAAkB,CAAC,OAAoB,EAAE,KAAuB;;QACnE,UAAU,GAAG,KAAK;;QAChB,OAAO;;;IAAG,cAAM,OAAA,UAAU,GAAG,IAAI,EAAjB,CAAiB,CAAA;IACvC,OAAO,CAAC,gBAAgB,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;IACzC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC;IACjB,OAAO,CAAC,mBAAmB,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;IAC5C,IAAI,CAAC,UAAU,EAAE;QACf,iBAAiB,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;KACnC;AACH,CAAC;;;;;;;;;AAQD,MAAM,UAAU,iBAAiB,CAAC,OAAoB;IACpD,OAAO,CAAC,KAAK;;;IAAG,cAAM,OAAA,iBAAiB,CAAC,OAAO,EAAE,OAAO,CAAC,EAAnC,CAAmC,CAAA,CAAC;IAC1D,OAAO,CAAC,IAAI;;;IAAG,cAAM,OAAA,iBAAiB,CAAC,OAAO,EAAE,MAAM,CAAC,EAAlC,CAAkC,CAAA,CAAC;AAC1D,CAAC;;;;;;AAGD,MAAM,UAAU,YAAY,CAAC,OAAoB;IAC/C,kBAAkB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;AACvC,CAAC;;;;;;AAGD,MAAM,UAAU,WAAW,CAAC,OAAoB;IAC9C,kBAAkB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;AACtC,CAAC","sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {dispatchFakeEvent} from './dispatch-events';\n\nfunction triggerFocusChange(element: HTMLElement, event: 'focus' | 'blur') {\n  let eventFired = false;\n  const handler = () => eventFired = true;\n  element.addEventListener(event, handler);\n  element[event]();\n  element.removeEventListener(event, handler);\n  if (!eventFired) {\n    dispatchFakeEvent(element, event);\n  }\n}\n\n/**\n * Patches an elements focus and blur methods to emit events consistently and predictably.\n * This is necessary, because some browsers, like IE11, will call the focus handlers asynchronously,\n * while others won't fire them at all if the browser window is not focused.\n * @docs-private\n */\nexport function patchElementFocus(element: HTMLElement) {\n  element.focus = () => dispatchFakeEvent(element, 'focus');\n  element.blur = () => dispatchFakeEvent(element, 'blur');\n}\n\n/** @docs-private */\nexport function triggerFocus(element: HTMLElement) {\n  triggerFocusChange(element, 'focus');\n}\n\n/** @docs-private */\nexport function triggerBlur(element: HTMLElement) {\n  triggerFocusChange(element, 'blur');\n}\n"]}