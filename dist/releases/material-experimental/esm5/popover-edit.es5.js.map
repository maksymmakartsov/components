{"version":3,"file":"popover-edit.es5.js","sources":["../../../src/material-experimental/popover-edit/popover-edit-module.ts","../../../src/material-experimental/popover-edit/table-directives.ts","../../../src/material-experimental/popover-edit/lens-directives.ts"],"sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {CdkEditable, CdkPopoverEditModule} from '@angular/cdk-experimental/popover-edit';\nimport {\n  MatPopoverEdit,\n  MatPopoverEditTabOut,\n  MatRowHoverContent,\n  MatEditOpen\n} from './table-directives';\nimport {\n  MatEditLens,\n  MatEditRevert,\n  MatEditClose\n} from './lens-directives';\n\nconst EXPORTED_DECLARATIONS = [\n  MatPopoverEdit,\n  MatPopoverEditTabOut,\n  MatRowHoverContent,\n  MatEditLens,\n  MatEditRevert,\n  MatEditClose,\n  MatEditOpen\n];\n\n@NgModule({\n  imports: [\n    CdkPopoverEditModule,\n    CommonModule,\n  ],\n  exports: [\n    ...EXPORTED_DECLARATIONS,\n    CdkEditable,\n  ],\n  declarations: EXPORTED_DECLARATIONS,\n})\nexport class MatPopoverEditModule { }\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {Directive} from '@angular/core';\nimport {\n  _CELL_SELECTOR,\n  _closest,\n  CdkPopoverEdit,\n  CdkPopoverEditTabOut,\n  CdkRowHoverContent,\n  CdkEditOpen\n} from '@angular/cdk-experimental/popover-edit';\n\nconst POPOVER_EDIT_HOST_BINDINGS = {\n  'tabIndex': '0',\n  'class': 'mat-popover-edit-cell',\n  '[attr.aria-haspopup]': 'true',\n};\n\nconst POPOVER_EDIT_INPUTS = [\n  'template: matPopoverEdit',\n  'context: matPopoverEditContext',\n  'colspan: matPopoverEditColspan',\n];\n\nconst EDIT_PANE_CLASS = 'mat-edit-pane';\n\nconst MAT_ROW_HOVER_CLASS = 'mat-row-hover-content';\nconst MAT_ROW_HOVER_RTL_CLASS = MAT_ROW_HOVER_CLASS + '-rtl';\nconst MAT_ROW_HOVER_ANIMATE_CLASS = MAT_ROW_HOVER_CLASS + '-visible';\nconst MAT_ROW_HOVER_CELL_CLASS = MAT_ROW_HOVER_CLASS + '-host-cell';\n\n/**\n * Attaches an ng-template to a cell and shows it when instructed to by the\n * EditEventDispatcher service.\n * Makes the cell focusable.\n */\n@Directive({\n  selector: '[matPopoverEdit]:not([matPopoverEditTabOut])',\n  host: POPOVER_EDIT_HOST_BINDINGS,\n  inputs: POPOVER_EDIT_INPUTS,\n})\nexport class MatPopoverEdit<C> extends CdkPopoverEdit<C> {\n  protected panelClass(): string {\n    return EDIT_PANE_CLASS;\n  }\n}\n\n/**\n * Attaches an ng-template to a cell and shows it when instructed to by the\n * EditEventDispatcher service.\n * Makes the cell focusable.\n */\n@Directive({\n  selector: '[matPopoverEdit][matPopoverEditTabOut]',\n  host: POPOVER_EDIT_HOST_BINDINGS,\n  inputs: POPOVER_EDIT_INPUTS,\n})\nexport class MatPopoverEditTabOut<C> extends CdkPopoverEditTabOut<C> {\n  protected panelClass(): string {\n    return EDIT_PANE_CLASS;\n  }\n}\n\n/**\n * A structural directive that shows its contents when the table row containing\n * it is hovered or when an element in the row has focus.\n */\n@Directive({\n  selector: '[matRowHoverContent]',\n})\nexport class MatRowHoverContent extends CdkRowHoverContent {\n  protected initElement(element: HTMLElement) {\n    super.initElement(element);\n    element.classList.add(MAT_ROW_HOVER_CLASS);\n  }\n\n  protected makeElementHiddenButFocusable(element: HTMLElement): void {\n    element.classList.remove(MAT_ROW_HOVER_ANIMATE_CLASS);\n  }\n\n  protected makeElementVisible(element: HTMLElement): void {\n    _closest(this.elementRef.nativeElement!, _CELL_SELECTOR)!\n        .classList.add(MAT_ROW_HOVER_CELL_CLASS);\n\n    if (this.services.directionality.value === 'rtl') {\n      element.classList.add(MAT_ROW_HOVER_RTL_CLASS);\n    } else {\n      element.classList.remove(MAT_ROW_HOVER_RTL_CLASS);\n    }\n\n    element.classList.remove(MAT_ROW_HOVER_ANIMATE_CLASS);\n    this.services.ngZone.runOutsideAngular(() => {\n      setTimeout(() => {\n        element.classList.add(MAT_ROW_HOVER_ANIMATE_CLASS);\n      });\n    });\n  }\n}\n\n/**\n * Opens the closest edit popover to this element, whether it's associated with this exact\n * element or an ancestor element.\n */\n@Directive({\n  selector: '[matEditOpen]',\n})\nexport class MatEditOpen extends CdkEditOpen {\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive} from '@angular/core';\n\nimport {\n  CdkEditControl,\n  CdkEditRevert,\n  CdkEditClose,\n  EditRef,\n} from '@angular/cdk-experimental/popover-edit';\n\n/**\n * A component that attaches to a form within the edit.\n * It coordinates the form state with the table-wide edit system and handles\n * closing the edit when the form is submitted or the user clicks\n * out.\n */\n@Directive({\n  selector: 'form[matEditLens]',\n  host: {\n    'class': 'mat-edit-lens',\n  },\n  inputs: [\n    'clickOutBehavior: matEditLensClickOutBehavior',\n    'preservedFormValue: matEditLensPreservedFormValue',\n    'ignoreSubmitUnlessValid: matEditLensIgnoreSubmitUnlessValid',\n  ],\n  outputs: ['preservedFormValueChange: matEditLensPreservedFormValueChange'],\n  providers: [EditRef],\n})\nexport class MatEditLens<FormValue> extends CdkEditControl<FormValue> {\n}\n\n/** Reverts the form to its initial or previously submitted state on click. */\n@Directive({\n  selector: 'button[matEditRevert]',\n  host: {\n    'type': 'button', // Prevents accidental form submits.\n  }\n})\nexport class MatEditRevert<FormValue> extends CdkEditRevert<FormValue> {\n}\n\n/** Closes the lens on click. */\n@Directive({\n  selector: 'button[matEditClose]',\n  host: {\n    'type': 'button', // Prevents accidental form submits.\n  }\n})\nexport class MatEditClose<FormValue> extends CdkEditClose<FormValue> {\n}\n"],"names":["tslib_1.__extends"],"mappings":"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"}